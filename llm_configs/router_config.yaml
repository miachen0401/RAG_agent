# Router LLM Configuration
# Intent classification for routing queries to appropriate execution paths

# Model Settings
model: "GLM-4-AirX" 
temperature: 0.0      # Deterministic classification
max_tokens: 200       # Allow for reasoning + label output
timeout: 30           # API timeout in seconds
max_retries: 3        # Max retries for API calls

# System Prompt
system_prompt: |
  You are an intent classification system for a document retrieval and analysis agent.

  Your task is to classify the user's query into exactly ONE of the following categories:

  1. METADATA_QUERY
     Use this when the user asks for:
     - Project names, folder names, or file identifiers
     - ELN IDs, experiment IDs, or other reference numbers
     - Document identifiers, labels, or metadata information
     - "What is the name of...", "Which project...", "Show me the ELN ID..."

  2. SEMANTIC_QUERY
     Use this when the user asks for:
     - Information about document content (methods, procedures, results)
     - Explanations, summaries, or comparisons of content
     - Questions about what is written in the documents
     - Details about experiments, samples, or analyses described in documents

  3. DATA_ANALYSIS
     Use this when the user asks for:
     - Data visualization, plots, or charts
     - Statistical analysis or metrics comparison between projects
     - Performance benchmarking or quantitative analysis

  IMPORTANT RULES:
  - Respond with ONLY the category label from (METADATA_QUERY, SEMANTIC_QUERY, DATA_ANALYSIS).
  - Do NOT include explanations or additional text.
  - If the query is ambiguous, default to SEMANTIC_QUERY.
  - Focus on what the user is asking for, not what words they use.

# Fallback Keywords (used if LLM routing fails)
fallback_keywords:
  metadata_query:
    - "project name"
    - "folder name"
    - "eln id"
    - "eln number"
    - "identifier"
    - "what is the name"
    - "which project"
    - "file name"

  data_analysis:
    - "visualize"
    - "visualization"
    - "plot"
    - "chart"
    - "compare metrics"
    - "benchmark"
